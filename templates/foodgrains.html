<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Product Grid
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
 </head>
 <body class="bg-gray-100">
    <!-- Cart Header -->
    <div class="fixed top-0 right-0 m-4">
        <a href="#cart" class="bg-orange-500 text-white p-2 rounded-full">
            <i class="fas fa-shopping-cart"></i>
            <span id="cart-count" class="ml-1">0</span>
        </a>
    </div>
    <!-- Main Product Grid -->
    <div class="container mx-auto p-4 mt-12">
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
            <!-- Existing product cards remain the same -->
        </div>
    </div>
    <!-- Cart Section -->
    <div id="cart" class="container mx-auto p-4 mt-8 bg-white shadow-lg rounded-lg">
        <h2 class="text-2xl font-bold mb-4">Your Cart</h2>
        <ul id="cart-items" class="space-y-2"></ul>
        <div class="mt-4 border-t pt-4">
            <p class="text-xl font-bold">Total: ₹<span id="cart-total">0</span></p>
            <button onclick="clearCart()" class="bg-red-500 text-white px-4 py-2 mt-2 rounded">
                Clear Cart
            </button>
        </div>
    </div>

    <!-- Recommendations Section -->
    <div id="recommendations" class="container mx-auto p-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>

    <!-- Scripts at the bottom -->
    <script src="static/js/cart.js"></script>

  <div class="container mx-auto p-4">
   <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
    <!-- Product Card 1 -->
    <div class="bg-white p-4 rounded-lg shadow-md">
     <div class="relative">
      <span class="absolute top-0 left-0 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-br-lg">
       23% OFF
      </span>
      <img alt="Star Refined Sunflower Oil" class="w-full h-40 object-contain" height="150" src="https://storage.googleapis.com/a1aa/image/zRwbhP5TKlalfNEq1IuCALAvKH4VhlkT9PjUXC38aGE.jpg" width="150"/>
     </div>
     <h2 class="text-gray-800 font-semibold mt-2">
      Star Refined Sunflower Oil
     </h2>
     <div class="flex items-center mt-2">
      <select class="border border-gray-300 rounded p-1 text-sm">
       <option>
        1 Ltr
       </option>
      </select>
     </div>
     <div class="text-orange-500 text-sm mt-2">
      # Lowest Price
     </div>
     <div class="text-gray-500 text-sm">
      #BachateRaho
     </div>
     <div class="text-orange-500 font-bold text-lg mt-2">
      ₹142.00
      <span class="line-through text-gray-400">
       ₹185.00
      </span>
     </div>
     <button class="bg-orange-500 text-white w-full py-2 mt-2 rounded"
        onclick="addToCart('Star Refined Sunflower Oil', 142)">
    ADD
    </button>
    </div>
    <!-- Product Card 2 -->
    <div class="bg-white p-4 rounded-lg shadow-md">
     <div class="relative">
      <span class="absolute top-0 left-0 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-br-lg">
       37% OFF
      </span>
      <img alt="Star Saver Sugar" class="w-full h-40 object-contain" height="150" src="https://storage.googleapis.com/a1aa/image/YVRXiBwrEk43F2QwzZo5_CoyhyFZSLGUYHgV5D4TDbo.jpg" width="150"/>
     </div>
     <h2 class="text-gray-800 font-semibold mt-2">
      Star Saver Sugar
     </h2>
     <div class="flex items-center mt-2">
      <select class="border border-gray-300 rounded p-1 text-sm">
       <option>
        1 Kg
       </option>
      </select>
     </div>
     <div class="text-orange-500 text-sm mt-2">
      # Lowest Price
     </div>
     <div class="text-gray-500 text-sm">
      #BachateRaho
     </div>
     <div class="text-orange-500 font-bold text-lg mt-2">
      ₹44.00
      <span class="line-through text-gray-400">
       ₹70.00
      </span>
     </div>
     <button class="bg-orange-500 text-white w-full py-2 mt-2 rounded"
        onclick="addToCart('Star Saver Sugar', 44)">
    ADD
    </button>
    </div>
    <!-- Product Card 3 -->
    <div class="bg-white p-4 rounded-lg shadow-md">
     <div class="relative">
      <span class="absolute top-0 left-0 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-br-lg">
       17% OFF
      </span>
      <img alt="Tata Freeflow Salt" class="w-full h-40 object-contain" height="150" src="https://storage.googleapis.com/a1aa/image/yLz5kfzlaxrt3DZX_oM6o4cS523kPviyUWJt4-FpH1Q.jpg" width="150"/>
     </div>
     <h2 class="text-gray-800 font-semibold mt-2">
      Tata Freeflow Salt
     </h2>
     <div class="flex items-center mt-2">
      <select class="border border-gray-300 rounded p-1 text-sm">
       <option>
        1 Kg
       </option>
      </select>
     </div>
     <div class="text-orange-500 text-sm mt-2">
      # Lowest Price
     </div>
     <div class="text-gray-500 text-sm">
      #BachateRaho
     </div>
     <div class="text-orange-500 font-bold text-lg mt-2">
      ₹25.00
      <span class="line-through text-gray-400">
       ₹30.00
      </span>
     </div>
     <button class="bg-orange-500 text-white w-full py-2 mt-2 rounded"
        onclick="addToCart('Tata Freeflow Salt', 25)">
    ADD
    </button>
    </div>
    <!-- Product Card 4 -->
    <div class="bg-white p-4 rounded-lg shadow-md">
     <div class="relative">
      <span class="absolute top-0 left-0 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-br-lg">
       26% OFF
      </span>
      <img alt="Star Rice Bran Oil" class="w-full h-40 object-contain" height="150" src="https://storage.googleapis.com/a1aa/image/KCsgKUUdSwEyqOqmjsTOu-s-qvywLS0E4tv8l_yZJJk.jpg" width="150"/>
     </div>
     <h2 class="text-gray-800 font-semibold mt-2">
      Star Rice Bran Oil
     </h2>
     <div class="flex items-center mt-2">
      <select class="border border-gray-300 rounded p-1 text-sm">
       <option>
        1 Ltr
       </option>
      </select>
     </div>
     <div class="text-orange-500 text-sm mt-2">
      # Lowest Price
     </div>
     <div class="text-gray-500 text-sm">
      #BachateRaho
     </div>
     <div class="text-orange-500 font-bold text-lg mt-2">
      ₹129.00
      <span class="line-through text-gray-400">
       ₹175.00
      </span>
     </div>
     <button class="bg-orange-500 text-white w-full py-2 mt-2 rounded"
        onclick="addToCart('Star Rice Bran Oil', 129)">
    ADD
    </button>
    </div>
    <!-- Product Card 5 -->
    <div class="bg-white p-4 rounded-lg shadow-md">
     <div class="relative">
      <span class="absolute top-0 left-0 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-br-lg">
       28% OFF
      </span>
      <img alt="Star Thick Poha" class="w-full h-40 object-contain" height="150" src="https://storage.googleapis.com/a1aa/image/kOCFe-tsH7FUDdUYSYMFGrO3-tVjkhds6787HUjQXUo.jpg" width="150"/>
     </div>
     <h2 class="text-gray-800 font-semibold mt-2">
      Star Thick Poha
     </h2>
     <div class="flex items-center mt-2">
      <select class="border border-gray-300 rounded p-1 text-sm">
       <option>
        1 Kg
       </option>
      </select>
     </div>
     <div class="text-orange-500 text-sm mt-2">
      # Lowest Price
     </div>
     <div class="text-gray-500 text-sm">
      #BachateRaho
     </div>
     <div class="text-orange-500 font-bold text-lg mt-2">
      ₹65.00
      <span class="line-through text-gray-400">
       ₹90.00
      </span>
     </div>
     <button class="bg-orange-500 text-white w-full py-2 mt-2 rounded"
        onclick="addToCart('Star Thick Poha',65)">
    ADD
    </button>
    </div>
    <!-- Product Card 6 -->
    <div class="bg-white p-4 rounded-lg shadow-md">
     <div class="relative">
      <span class="absolute top-0 left-0 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-br-lg">
       23% OFF
      </span>
      <img alt="Star Cow Ghee" class="w-full h-40 object-contain" height="150" src="https://storage.googleapis.com/a1aa/image/iSXNltfY5MIs8RKwoRt2WHeOJ4Q2udxw5RnqrNonBf0.jpg" width="150"/>
     </div>
     <h2 class="text-gray-800 font-semibold mt-2">
      Star Cow Ghee
     </h2>
     <div class="flex items-center mt-2">
      <select class="border border-gray-300 rounded p-1 text-sm">
       <option>
        1 Ltr
       </option>
      </select>
     </div>
     <div class="text-orange-500 text-sm mt-2">
      # Lowest Price
     </div>
     <div class="text-gray-500 text-sm">
      #BachateRaho
     </div>
     <div class="text-orange-500 font-bold text-lg mt-2">
      ₹499.00
      <span class="line-through text-gray-400">
       ₹650.00
      </span>
     </div>
     <button class="bg-orange-500 text-white w-full py-2 mt-2 rounded"
     onclick="addToCart('Star Cow Ghee',499)">
 ADD
 </button>
    </div>
    <!-- Product Card 7 -->
    <div class="bg-white p-4 rounded-lg shadow-md">
     <div class="relative">
      <span class="absolute top-0 left-0 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-br-lg">
       32% OFF
      </span>
      <img alt="Star Raw Peanut Whole" class="w-full h-40 object-contain" height="150" src="https://storage.googleapis.com/a1aa/image/GjR28sJDYbZjqO_Os-6UfKpHRTbAz2SZTgJMOKVaz2c.jpg" width="150"/>
     </div>
     <h2 class="text-gray-800 font-semibold mt-2">
      Star Raw Peanut Whole
     </h2>
     <div class="flex items-center mt-2">
      <select class="border border-gray-300 rounded p-1 text-sm">
       <option>
        500 Gm
       </option>
      </select>
     </div>
     <div class="text-orange-500 text-sm mt-2">
      # Lowest Price
     </div>
     <div class="text-gray-500 text-sm">
      #BachateRaho
     </div>
     <div class="text-orange-500 font-bold text-lg mt-2">
      ₹75.00
      <span class="line-through text-gray-400">
       ₹110.00
      </span>
     </div>
     <button class="bg-orange-500 text-white w-full py-2 mt-2 rounded"
     onclick="addToCart('Star Raw Peanut Whole',75)">
 ADD
 </button>
    </div>
    <!-- Product Card 8 -->
    <div class="bg-white p-4 rounded-lg shadow-md">
     <div class="relative">
      <span class="absolute top-0 left-0 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-br-lg">
       42% OFF
      </span>
      <img alt="Star Saver Polished Tur Dal" class="w-full h-40 object-contain" height="150" src="https://storage.googleapis.com/a1aa/image/lYrYMc9eUEF3zfLcoQhIoaL_YY09hG4rIVKnEJm8niM.jpg" width="150"/>
     </div>
     <h2 class="text-gray-800 font-semibold mt-2">
      Star Saver Polished Tur Dal
     </h2>
     <div class="flex items-center mt-2">
      <select class="border border-gray-300 rounded p-1 text-sm">
       <option>
        1 Kg
       </option>
      </select>
     </div>
     <div class="text-orange-500 text-sm mt-2">
      # Lowest Price
     </div>
     <div class="text-gray-500 text-sm">
      #BachateRaho
     </div>
     <div class="text-orange-500 font-bold text-lg mt-2">
      ₹139.00
      <span class="line-through text-gray-400">
       ₹240.00
      </span>
     </div>
     <button class="bg-orange-500 text-white w-full py-2 mt-2 rounded"
     onclick="addToCart('Star Saver Polished Tur Dal',139)">
 ADD
 </button>
    </div>
    <!-- Product Card 9 -->
    <div class="bg-white p-4 rounded-lg shadow-md">
     <div class="relative">
      <span class="absolute top-0 left-0 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-br-lg">
       24% OFF
      </span>
      <img alt="Star Kabuli Chana Big" class="w-full h-40 object-contain" height="150" src="https://storage.googleapis.com/a1aa/image/KThQTV-vT5CAmcoHUlCq63eMmi69t05Kzd3rMmbWDVQ.jpg" width="150"/>
     </div>
     <h2 class="text-gray-800 font-semibold mt-2">
      Star Kabuli Chana Big
     </h2>
     <div class="flex items-center mt-2">
      <select class="border border-gray-300 rounded p-1 text-sm">
       <option>
        500 Gm
       </option>
      </select>
     </div>
     <div class="text-orange-500 text-sm mt-2">
      # Lowest Price
     </div>
     <div class="text-gray-500 text-sm">
      #BachateRaho
     </div>
     <div class="text-orange-500 font-bold text-lg mt-2">
      ₹99.00
      <span class="line-through text-gray-400">
       ₹130.00
      </span>
     </div>
     <button class="bg-orange-500 text-white w-full py-2 mt-2 rounded"
     onclick="addToCart('Star Kabuli Chana Big',99)">
 ADD
 </button>
    </div>
    <!-- Product Card 10 -->
    <div class="bg-white p-4 rounded-lg shadow-md">
     <div class="relative">
      <span class="absolute top-0 left-0 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-br-lg">
       21% OFF
      </span>
      <img alt="Tata Sampann Arhar (Tur) Dal Split" class="w-full h-40 object-contain" height="150" src="https://storage.googleapis.com/a1aa/image/dmZKHjfhQiCeQG4nqWrKLZ-R1L29ERLAAC54dXWeoyU.jpg" width="150"/>
     </div>
     <h2 class="text-gray-800 font-semibold mt-2">
      Tata Sampann Arhar (Tur) Dal Split
     </h2>
     <div class="flex items-center mt-2">
      <select class="border border-gray-300 rounded p-1 text-sm">
       <option>
        1 Kg
       </option>
      </select>
     </div>
     <div class="text-orange-500 text-sm mt-2">
      # Lowest Price
     </div>
     <div class="text-gray-500 text-sm">
      #BachateRaho
     </div>
     <div class="text-orange-500 font-bold text-lg mt-2">
      ₹218.00
      <span class="line-through text-gray-400">
       ₹275.00
      </span>
     </div>
     <button class="bg-orange-500 text-white w-full py-2 mt-2 rounded"
     onclick="addToCart('Tata Sampann Arhar (Tur) Dal Split',218)">
 ADD
 </button>
    </div>
   </div>
  </div>
 
            <div id="recommendations" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mt-4"></div>

            <script>
            async function getRecommendations(productId) {
                let response = await fetch(`http://127.0.0.1:5000/recommend?id=${productId}`);
                let data = await response.json();

                let container = document.getElementById("recommendations");
                container.innerHTML = "<h2 class='text-xl font-bold mt-4'>You May Also Like</h2>";

                data.forEach(product => {
                    let card = `
                    <div class="bg-white p-4 rounded-lg shadow-md">
                        <img src="${product.image_url}" class="w-full h-40 object-contain">
                        <h2 class="text-gray-800 font-semibold mt-2">${product.name}</h2>
                        <p class="text-orange-500 font-bold">₹${product.price}</p>
                        <button class="bg-orange-500 text-white w-full py-2 mt-2 rounded">View</button>
                    </div>`;
                    container.innerHTML += card;
                });
            }

            // Attach event listener to product buttons
            document.addEventListener("DOMContentLoaded", function() {
                document.querySelectorAll(".product-button").forEach(button => {
                    button.addEventListener("click", function() {
                        let productId = this.getAttribute("data-product-id");
                        getRecommendations(productId);
                    });
                });
            });
            </script>
            </body>
            
</html>
